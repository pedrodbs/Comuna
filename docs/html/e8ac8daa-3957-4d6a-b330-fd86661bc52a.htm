<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Comuna.NET</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="Welcome" /><meta name="Microsoft.Help.Id" content="e8ac8daa-3957-4d6a-b330-fd86661bc52a" /><meta name="Description" content="A community analysis, tracking and graphing library for social networks written in C#" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Comuna.NET - A community analysis, tracking and graphing library for social networks written in C#<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\e8ac8daa-3957-4d6a-b330-fd86661bc52a.htm" title="Comuna.NET - A community analysis, tracking and graphing library for social networks written in C#" tocid="roottoc">Comuna.NET - A community analysis, tracking and graphing library for social networks written in C#</a></div><div class="toclevel1 current" data-toclevel="1"><a data-tochassubtree="false" href="../html/e8ac8daa-3957-4d6a-b330-fd86661bc52a.htm" title="Comuna.NET" tocid="e8ac8daa-3957-4d6a-b330-fd86661bc52a">Comuna.NET</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_Comuna.htm" title="Comuna" tocid="N_Comuna">Comuna</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_Comuna_D3.htm" title="Comuna.D3" tocid="N_Comuna_D3">Comuna.D3</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_Comuna_Graphviz.htm" title="Comuna.Graphviz" tocid="N_Comuna_Graphviz">Comuna.Graphviz</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/comuna-128.png" /></td><td class="titleColumn"><h1>Comuna.NET</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><blockquote><p>A community analysis, tracking and graphing library for social networks written in C#</p></blockquote><p>
        Comuna is a .NET open-source library written entirely in C# that implements the <em>Louvain method</em> for finding communities in large networks as described in [Blondel <em>et. al</em>, 2008]. The code corresponds to a C# adaptation of the C++ code in <a href="https://sites.google.com/site/findcommunities/" target="_blank">https://sites.google.com/site/findcommunities/</a>. The main concept is that of <em>network modularity</em> that assesses the quality of the current community partition. The algorithm works by successively improving the network's modularity by trying to change the community that each node belongs to. If there is no improvement in modularity this means that the best community partition has been found.
      </p><p>
        Comuna.NET supports multiple updates to the underlying network connections (graph links), <em>i.e.</em>, it allows the analysis of the <em>evolution of communities</em> in a network.  In addition, the results of community analysis can be exported to multiple formats. Specifically, Comuna.NET exports to image formats for the visualization of network structure and communities via <a href="https://www.graphviz.org/" target="_blank">Graphviz</a>, and to json files that can be imported into <a href="https://github.com/pedrodbs/CommunitiesViewer" target="_blank">Communities Viewer</a>, an interactive web-application using <a href="https://d3js.org/" target="_blank">D3.js</a>.
      </p><p><strong>Table of contents</strong></p><ul><li><a href="#header-n38">About</a></li><li><a href="#header-n54">API Documentation</a></li><li><a href="#header-n65">Packages and Dependencies</a></li><li><a href="#header-n90">Installation</a></li><li><a href="#header-n123">Features</a></li><li><a href="#header-n181">Examples</a></li><li><a href="#header-n199">See Also</a></li></ul><p /></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />About</span></div><div id="ID0RBSection" class="collapsibleSection"><p>Comuna.NET is open-source under the <a href="https://github.com/pedrodbs/Comuna/blob/master/LICENSE.md" target="_blank">MIT license</a> and is free for commercial use.</p><ul><li>Source repository: <a href="https://github.com/pedrodbs/Comuna" target="_blank">https://github.com/pedrodbs/Comuna</a></li><li>Issue tracker: <a href="https://github.com/pedrodbs/Comuna/issues" target="_blank">https://github.com/pedrodbs/Comuna/issues</a></li></ul><p>Supported platforms:</p><ul><li>All runtimes supporting <em>.NET Standard 1.3+</em> (<em>.NET Core 1.0+</em>, <em>.NET Framework 4.6+</em>) on Windows, Linux and Mac</li></ul></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />API Documentation</span></div><div id="ID1RBSection" class="collapsibleSection"><ul><li><a href="https://pedrodbs.github.io/Comuna/" target="_blank">HTML</a></li><li><a href="https://github.com/pedrodbs/Comuna/raw/master/docs/Comuna.NET.chm" target="_blank">Windows Help file (CHM)</a></li><li><a href="https://github.com/pedrodbs/Comuna/raw/master/docs/Comuna.NET.pdf" target="_blank">PDF document</a></li></ul></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Packages and Dependencies</span></div><div id="ID2RBSection" class="collapsibleSection"><p>The following packages with the corresponding dependencies are provided:</p><ul><li><p><strong>Comuna:</strong> core package with the communities analyzer. </p><ul><li><a href="https://github.com/pedrodbs/quickgraph" target="_blank">QuickGraph</a> (forked to allow colored edges and vertexes when exporting to Graphviz dot format)</li></ul></li><li><p><strong>Comuna.D3:</strong> package that includes the communities tracker algorithm and the methods to export them to Json files to be visualized with D3.js. </p><ul><li><a href="https://www.nuget.org/packages/Newtonsoft.Json/" target="_blank">Json.NET</a> v11.0.2</li></ul></li><li><p><strong>Comuna.Graphviz:</strong> package to create undirected graph representations for the networks and communities and export them to image files via <a href="https://www.graphviz.org/" target="_blank">Graphviz</a>.</p><ul><li><a href="https://github.com/pedrodbs/quickgraph" target="_blank">QuickGraph</a> (forked to allow colored edges and vertexes when exporting to Graphviz dot format)</li></ul></li></ul></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Installation</span></div><div id="ID3RBSection" class="collapsibleSection"><p>You can <span class="code">git clone</span> the Comuna.NET <a href="https://github.com/pedrodbs/Comuna" target="_blank">source code</a> and use an IDE like VisualStudio to build the corresponding binaries.</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Getting started</span></div><div id="ID5RBSection" class="collapsibleSection"><p>Consider the following <em>network</em> example from [Blondel <em>et. al</em>, 2008] represented as an undirected graph:</p><p><div class="mediaNear"><img alt="example" src="../media/example.png" /></div></p><p>where each node can represent a different person and links can denote a connection or relationship between two individuals. In this example all connections have a weight of $1$, but arbitrary weights can be provided denoting <em>e.g.</em>, different degrees of relationship.</p><p>We start by creating a <span class="code">Network</span> object and adding all <em>nodes</em>. In Comuna.NET each node is represented by a different <span class="code">uint</span> identifier:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EANAEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EANAEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EANAEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EANAEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">var</span> network = <span class="highlight-keyword">new</span> Network();
<span class="highlight-keyword">for</span> (<span class="highlight-keyword">var</span> i = <span class="highlight-number">0</span>u; i &lt; <span class="highlight-number">16</span>; i++)
    network.AddVertex(i);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EANAEAAA");</script><p>We then define each <span class="code">Connection</span> in the network by adding <em>edges</em> between the nodes:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EALAEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EALAEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EALAEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EALAEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">2</span>));
network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">4</span>));
network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">3</span>));
network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">5</span>));
network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">1</span>, <span class="highlight-number">2</span>));
network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">1</span>, <span class="highlight-number">4</span>));
network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">1</span>, <span class="highlight-number">7</span>));
...</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EALAEAAA");</script><p>After having defined the network we can create the algorithm to analyze the communities:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EAJAEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAJAEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAJAEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAJAEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">var</span> communityAlg = <span class="highlight-keyword">new</span> CommunityAlgorithm(network, <span class="highlight-number">-1</span>, <span class="highlight-number">0</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAJAEAAA");</script><p>where we define the <em>number of passes</em> of the algorithm (if $-1$, the algorithm computes as many passes as needed to increase the network's modularity) and the <em>minimum modularity gain</em>, corresponding to the criterion used to perform a new pass (if $0$, even a minor increase is enough to perform one more pass).</p><p>We then update the algorithm to discover the communities in the network, <em>i.e.</em>, the best community partition:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EAGAEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAGAEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAGAEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAGAEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">communityAlg.Update();</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAGAEAAA");</script><p>A call to <span class="code">DisplayCommunities</span> will then result in the following output:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAEAEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAEAEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAEAEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Community: <span class="highlight-number">0</span>, Nodes: [<span class="highlight-number">8</span>;<span class="highlight-number">9</span>;<span class="highlight-number">10</span>;<span class="highlight-number">12</span>;<span class="highlight-number">14</span>;<span class="highlight-number">15</span>], In: <span class="highlight-number">0</span>, Tot: <span class="highlight-number">20</span>
Community: <span class="highlight-number">1</span>, Nodes: [<span class="highlight-number">1</span>;<span class="highlight-number">4</span>;<span class="highlight-number">2</span>;<span class="highlight-number">0</span>;<span class="highlight-number">5</span>], In: <span class="highlight-number">14</span>, Tot: <span class="highlight-number">20</span>
Community: <span class="highlight-number">2</span>, Nodes: [<span class="highlight-number">11</span>;<span class="highlight-number">13</span>], In: <span class="highlight-number">-4</span>, Tot: <span class="highlight-number">7</span>
Community: <span class="highlight-number">3</span>, Nodes: [<span class="highlight-number">3</span>;<span class="highlight-number">7</span>;<span class="highlight-number">6</span>], In: <span class="highlight-number">4</span>, Tot: <span class="highlight-number">9</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAEAEAAA");</script><p>By calling the <span class="code">Update</span> function without arguments the nodes' communities are automatically renumbered, meaning that their identifying numbers (<span class="code">uint</span>) are the lowest possible. If we don't want to renumber the communities we would call:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EACAEAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EACAEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EACAEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EACAEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">communityAlg.Update(<span class="highlight-keyword">false</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EACAEAAA");</script><p>which would result in the following communities being formed:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAAAEAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAAAEAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAAAEAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Community: <span class="highlight-number">1</span>, Nodes: [<span class="highlight-number">1</span>;<span class="highlight-number">4</span>;<span class="highlight-number">2</span>;<span class="highlight-number">0</span>;<span class="highlight-number">5</span>], In: <span class="highlight-number">14</span>, Tot: <span class="highlight-number">20</span>
Community: <span class="highlight-number">3</span>, Nodes: [<span class="highlight-number">3</span>;<span class="highlight-number">7</span>;<span class="highlight-number">6</span>], In: <span class="highlight-number">4</span>, Tot: <span class="highlight-number">9</span>
Community: <span class="highlight-number">9</span>, Nodes: [<span class="highlight-number">9</span>;<span class="highlight-number">14</span>;<span class="highlight-number">12</span>;<span class="highlight-number">8</span>;<span class="highlight-number">15</span>;<span class="highlight-number">10</span>], In: <span class="highlight-number">16</span>, Tot: <span class="highlight-number">20</span>
Community: <span class="highlight-number">11</span>, Nodes: [<span class="highlight-number">11</span>;<span class="highlight-number">13</span>], In: <span class="highlight-number">2</span>, Tot: <span class="highlight-number">7</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAAAEAAA");</script></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Features</span></div><div id="ID6RBSection" class="collapsibleSection"><ul><li><p><strong>CSV import and export</strong></p><ul><li><p>Allows the creation of a new <span class="code">Network</span> by reading the edge information stored in a given CSV (comma-separated values) file. The format is simply 'source_node, target_node [, weight]'. If not provided, weight of the edge is considered to be $1$. For example, the following code would load the network stored in <span class="code">C:\network.csv</span> :</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EAABACAADAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAABACAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAABACAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAABACAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">network = Network.LoadFromCsv(<span class="highlight-literal">"C:\\network.csv"</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAABACAADAAA");</script></li><li><p>Similarly, a network can be exported to a CSV file by calling:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EAAAACAADAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAAAACAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAAAACAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAAAACAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">network.SaveToCsv(<span class="highlight-literal">"C:\\network=export.csv"</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAAAACAADAAA");</script></li></ul></li><li><p><strong>Communities tracking &amp; D3.js export</strong></p><ul><li><p>Let's now image that the network's connections are <em>changing throughout time</em> as a consequence of an external process, <em>e.g.</em>, that the relationships between the individuals in the network are developing, that new relationships are being formed or that existing relationships are ending. </p></li><li><p>In Comuna.NET, this corresponds to either adding or removing edges from the network, <em>e.g.</em>:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EACDABAADAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EACDABAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EACDABAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EACDABAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">1</span>));        <span class="highlight-comment">// adding a new connection</span>
network.RemoveEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">2</span>));    <span class="highlight-comment">// removing an existing connection</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EACDABAADAAA");</script><p><strong>Note:</strong> to change the weight associated with a connection, we first remove the connection from the network and then add a new one with the new weight, <em>e.g.</em>:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EAADABAADAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAADABAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAADABAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAADABAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">network.RemoveEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">2</span>));    <span class="highlight-comment">// removing an existing connection</span>
network.AddEdge(<span class="highlight-keyword">new</span> Connection(<span class="highlight-number">0</span>, <span class="highlight-number">2</span>, <span class="highlight-number">0.5</span>));    <span class="highlight-comment">// changing the weight</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAADABAADAAA");</script></li><li><p>By using the <em>Comuna.D3</em> package we can track the changes in the network's connections and the consequent changes in the nodes' communities at each time step and later visualize them using the <a href="https://github.com/pedrodbs/CommunitiesViewer" target="_blank">Communities Viewer</a> web-application. To create the tracker we simply call:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EABCABAADAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EABCABAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EABCABAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EABCABAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Comuna.D3
...
<span class="highlight-keyword">var</span> tracker = <span class="highlight-keyword">new</span> CommunityTracker(communityAlg, pathToD3File, maxUpdates)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EABCABAADAAA");</script><p>where <span class="code">pathToD3File</span> is the path to the <em>Json</em> file where the network, its connections and the nodes' communities are written after the update at each time step. <span class="code">maxUpdates</span> is the <em>maximum number of updates</em> that are going to be performed to the network's connections.
<strong>Note:</strong> the tracker initially creates the Json file and at each update it appends the information regarding changes in the network structure (addition and removal of nodes) and in the nodes' communities.</p></li><li><p>At each time step, after updating the network's connections we also update the community algorithm and the tracker, <em>e.g.</em>: </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EABBABAADAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EABBABAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EABBABAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EABBABAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">for</span>(<span class="highlight-keyword">var</span> i=<span class="highlight-number">0</span>; i&lt;<span class="highlight-number">100</span>; i++)
{
    <span class="highlight-comment">// update connections to network</span>
    ...
    communityAlg.Update();
    tracker.Update();
}
tracker.Dispose()</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EABBABAADAAA");</script><p>where we can call <span class="code">tracker.Dispose()</span> to release the lock to the Json file being updated.</p></li><li><p>When loaded in <a href="https://github.com/pedrodbs/CommunitiesViewer" target="_blank">Communities Viewer</a>, the first time step would produce the following community graph:</p></li></ul></li><li><p><strong>Graphviz export</strong></p><ul><li><p>Export a program's tree representation to image file with <a href="https://www.graphviz.org/" target="_blank">Graphviz</a> (requires Graphviz installed and <em>dot</em> binary accessible from the system's path), <em>e.g.</em>:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID4EACAAAAADAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EACAAAAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EACAAAAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EACAAAAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> Comuna.Graphviz;
<span class="highlight-keyword">using</span> QuickGraph.Graphviz.Dot;
...
<span class="highlight-keyword">var</span> filePath = communityAlg.ToGraphvizFile(
    Path.GetFullPath(<span class="highlight-literal">"."</span>), <span class="highlight-literal">"communities-graphviz.png"</span>, <span class="highlight-keyword">true</span>, GraphvizImageType.Png);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EACAAAAADAAA");</script><p>would produce the following image:</p><p><div class="mediaNear"><img alt="communities-graphviz" src="../media/communities-graphviz.png" /></div></p></li></ul></li></ul></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID7RB')" onkeypress="SectionExpandCollapse_CheckKey('ID7RB', event)" tabindex="0"><img id="ID7RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID7RBSection" class="collapsibleSection"><p>Example code can be found in the <a href="https://github.com/pedrodbs/Comuna/tree/master/src/Examples" target="_blank">src/Examples</a> folder in the <a href="https://github.com/pedrodbs/Comuna" target="_blank">repository</a>. Several open-source social networks adapted to work with the example applications can be found in <a href="https://github.com/pedrodbs/Comuna/tree/master/src/Examples/networks" target="_blank">src/Examples/networks</a>.</p><ul><li><strong>CommunitiesEvolution:</strong> a simple example of the evolution of a social network involving tracking the addition and removal of connections. The results are saved to a Json file for later visualization.</li><li><strong>CommunitiesGenerator:</strong> a Windows.Forms application to generate random network connections between a given number of nodes and also a random number of update time-steps. The final network structure and nodes' communities is displayed and the corresponding Json file is saved.</li><li><strong>CommunitiesVisualizer:</strong> a Windows.Forms application that allows loading a network from a CSV file for the visualization of the communities therein. The community algorithm can be parameterized and the result can be exported to an image file.</li></ul></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID8RB')" onkeypress="SectionExpandCollapse_CheckKey('ID8RB', event)" tabindex="0"><img id="ID8RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID8RBSection" class="collapsibleSection"><p><strong>References</strong></p><ol><li>Blondel, V. D., Guillaume, J. L., Lambiotte, R., &amp; Lefebvre, E. (2008). <a href="http://iopscience.iop.org/article/10.1088/1742-5468/2008/10/P10008" target="_blank">Fast unfolding of communities in large networks</a>. <em>Journal of statistical mechanics: theory and experiment</em>, <em>2008</em>(10), Bristol: IOP Publishing Ltd.</li></ol><p><strong>Other links</strong></p><ul><li><a href="https://sites.google.com/site/findcommunities/" target="_blank">Louvain method: Finding communities in large networks</a></li><li><a href="https://github.com/pedrodbs/CommunitiesViewer" target="_blank">Communities Viewer</a></li><li><a href="https://d3js.org/" target="_blank">D3.js</a></li></ul><p>Copyright © 2018, <a href="https://github.com/pedrodbs" target="_blank">Pedro Sequeira</a></p></div></div></div><div id="pageFooter" class="pageFooter"><p>Copyright (c) 2018 Pedro Sequeira</p></div></body></html>